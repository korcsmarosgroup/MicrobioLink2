?devtools
?tidyr
?dplyr
??dplyr
?this.path
??this.path
getwd()
dirname()
this.dir
this.dir()
library(this.path)
this.dir()
dirname(this.dir())
basename(this.dir())
install.packages("withr")
?tempfile
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/add_log_message.R")
test_that("checking if messages are added to log_file", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
log_file <- tempfile("preprocessing", tmpdir = config_folder, ".log")
local_file(log_file)
file.create(log_file)
result <- write_log("This is a test.", log_file)
content <- readLines(result)
expect_true(length(content) > 0)
})
library(testthat)
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/add_log_message.R")
test_that("checking if messages are added to log_file", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
log_file <- tempfile("preprocessing", tmpdir = config_folder, ".log")
local_file(log_file)
file.create(log_file)
result <- write_log("This is a test.", log_file)
content <- readLines(result)
expect_true(length(content) > 0)
})
library(withr)
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/add_log_message.R")
test_that("checking if messages are added to log_file", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
log_file <- tempfile("preprocessing", tmpdir = config_folder, ".log")
local_file(log_file)
file.create(log_file)
result <- write_log("This is a test.", log_file)
content <- readLines(result)
expect_true(length(content) > 0)
})
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/add_log_message.R")
test_that("checking if messages are added to log_file", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
log_file <- tempfile("preprocessing", tmpdir = config_folder, ".log")
local_file(log_file)
file.create(log_file)
write_log("This is a test.", log_file)
content <- readLines(log_file)
expect_true(length(content) > 0)
})
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_configuration.R")
test_that("checking if config file path is returned by checking_configuration()", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
configuration_file_path <- tempfile("configuration", tmpdir = config_folder, ".yaml")
local_file(configuration_file_path)
file.create(configuration_file_path)
result <- checking_configuration(config_folder)
expect_true(file.exists(configuration_file_path))
expect_true(result, configuration_file_path)
})
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_configuration.R")
test_that("checking if config file path is returned by checking_configuration()", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
configuration_file_path <- tempfile("configuration", tmpdir = config_folder, ".yaml")
local_file(configuration_file_path)
file.path(configuration_file_path)
result <- checking_configuration(config_folder)
expect_true(file.exists(configuration_file_path))
expect_true(result, configuration_file_path)
})
checking_configuration <- function(config_folder) {
configuration_file_path <- file.path(config_folder, "configuration.yaml")
if (!file.exists(configuration_file_path)) {
stop(paste0("ERROR CODE 1: The configuration file does not exist: ", sep = "\n", configuration_file_path))
}
return(configuration_file_path)
}
getwd()
test_that(
"checking_log_file creates a log file",
{
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
log_file <- file.path(config_folder, "preprocessing.log")
result <- checking_log_file(config_folder)
expect_equal(result, log_file)
expect_true(file.exists(result))
content <- readLines(result, warn = FALSE)
expect_true(length(content) == 0)
}
)
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_log_file.R")
test_that(
"checking_log_file creates a log file",
{
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
log_file <- file.path(tmp_dir, "preprocessing.log")
result <- checking_log_file(config_folder)
expect_equal(result, log_file)
expect_true(file.exists(result))
content <- readLines(result, warn = FALSE)
expect_true(length(content) == 0)
}
)
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_log_file.R")
test_that(
"checking_log_file creates a log file",
{
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir)
dir.create(config_folder, showWarnings = FALSE)
log_file <- file.path(config_folder, "preprocessing.log")
result <- checking_log_file(config_folder)
expect_equal(result, log_file)
expect_true(file.exists(result))
content <- readLines(result, warn = FALSE)
expect_true(length(content) == 0)
}
)
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_configuration.R")
test_that("checking if config file path is returned by checking_configuration()", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
configuration_file_path <- tempfile("configuration", tmpdir = config_folder, ".yaml")
local_file(configuration_file_path)
file.create(configuration_file_path)
result <- checking_configuration(config_folder)
expect_true(file.exists(configuration_file_path))
expect_true(result, configuration_file_path)
})
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_configuration.R")
test_that("checking if config file path is returned by checking_configuration()", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir)
dir.create(config_folder, showWarnings = FALSE)
configuration_file_path <- tempfile("configuration", tmpdir = config_folder, ".yaml")
local_file(configuration_file_path)
file.create(configuration_file_path)
result <- checking_configuration(config_folder)
expect_true(file.exists(configuration_file_path))
expect_true(result, configuration_file_path)
})
source("C:/Users/bogla/PycharmProjects/MicrobioLink2/workflow/utils/preprocessing/Rpreprocessing/R/checking_configuration.R")
test_that("checking if config file path is returned by checking_configuration()", {
tmp_dir <- tempdir()
config_folder <- file.path(tmp_dir, "config")
dir.create(config_folder, showWarnings = FALSE)
configuration_file_path <- file.path(config_folder, "configuration.yaml")
result <- checking_configuration(config_folder)
expect_true(file.exists(configuration_file_path))
expect_true(result, configuration_file_path)
})
