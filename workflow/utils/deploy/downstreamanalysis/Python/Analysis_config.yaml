# ================================
# Input / Output
# ================================
input_dir: "/mnt/c/Users/matte/MicrobioLink2/workflow/utils/deploy/downstreamanalysis/Python/Data/"     #  where each sample folder contains normalized.h5ad
output_adata: "analysis_output.h5ad"           # Name of final merged AnnData output file

# ================================
# PCA Settings
# ================================
pca_components: 50                              # Number of principal components

# ================================
# Batch Correction
# ================================
                           # Column in adata.obs representing the batch source
batch_correction:
  use_scvi: false          # or false
  use_harmony: true      # or true
  batch_key: "sample"       # column in .obs for batch
  n_latent: 30            # only for scVI
  max_epochs: 400         # only for scVI
# (In future you could add:)
# use_scanorama: false
# use_scvi: false
# etc.

# ================================
# Embedding (UMAP / t-SNE)
# ================================
embedding:
  umap: true                                     # Run UMAP
  tsne: false                                    # Optional: run t-SNE
plots:
  umap:
    run: true
    output_dir: "umap_plots"
# ================================
# Clustering Settings
# ================================
clustering:
  method: "leiden"                               # "leiden" or "louvain"
  resolution: 1.0                                 # Higher = more clusters

# ================================
# Marker Gene Identification
# ================================
marker_genes:
  run: true                                       # Run sc.tl.rank_genes_groups
  groupby: "leiden"                               # Grouping var (defaults to cluster labels used)

# ================================
# Cell Annotation
# ================================
cell_annotation_file: "/mnt/c/Users/matte/MicrobioLink2/workflow/utils/deploy/downstreamanalysis/Python/epithelial.h5ad"
celltype_col: "Prelim_annotation"